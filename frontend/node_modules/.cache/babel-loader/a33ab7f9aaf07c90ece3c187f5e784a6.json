{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\binh\\\\Desktop\\\\job\\\\frontend\\\\src\\\\screens\\\\PostEditScreen.js\",\n    _s = $RefreshSig$();\n\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { Form } from \"react-bootstrap\";\nimport { useContext, useState } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { apiUrl } from \"../components/constant\";\nimport { PostContext } from \"../App\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PostEditScreen() {\n  _s();\n\n  const navigate = useNavigate();\n  const {\n    userInfo\n  } = useContext(PostContext);\n  const params = useParams();\n  const {\n    id: postId\n  } = params;\n  const [title, setTitle] = useState();\n  const [slug, setSlug] = useState();\n  const [image, setImage] = useState();\n  const [category, setCategory] = useState();\n  const [content, setContent] = useState();\n\n  const submitHandler = async e => {\n    e.preventDefault();\n\n    try {\n      await axios.put(`${apiUrl}/api/posts/${postId}`, {\n        _id: postId,\n        title,\n        slug,\n        image,\n        category,\n        content\n      }, {\n        headers: {\n          Authorization: `Bearer ${userInfo.token}`\n        }\n      });\n      navigate(\"/admin/listposts\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        dispatch({\n          type: \"FETCH_REQUEST\"\n        });\n        const {\n          data\n        } = await axios.get(`${apiUrl}/api/products/${productId}`);\n        setName(data.name);\n        setSlug(data.slug);\n        setPrice(data.price);\n        setImage(data.image);\n        setCategory(data.category);\n        setCountInStock(data.countInStock);\n        setBrand(data.brand);\n        setDescription(data.description);\n        dispatch({\n          type: \"FETCH_SUCCESS\"\n        });\n      } catch (err) {\n        dispatch({\n          type: \"FETCH_FAIL\",\n          payload: getError(err)\n        });\n      }\n    };\n\n    fetchData();\n  }, [productId]);\n  return /*#__PURE__*/_jsxDEV(\"center\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container_form\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container_wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Edit post \", postId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: submitHandler,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3 email\",\n            controlId: \"title\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              value: title,\n              onChange: e => setTitle(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3 email\",\n            controlId: \"slug\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Slug\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              value: slug,\n              onChange: e => setSlug(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3 email\",\n            controlId: \"image\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              value: image,\n              onChange: e => setImage(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3 email\",\n            controlId: \"category\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              value: category,\n              onChange: e => setCategory(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3 email\",\n            controlId: \"content\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Content\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              value: content,\n              onChange: e => setContent(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              children: \"Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PostEditScreen, \"hqTNFTIAw/IpOO9LrXVmjE2rvgY=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = PostEditScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostEditScreen\");","map":{"version":3,"names":["useNavigate","useParams","Form","useContext","useState","Button","axios","apiUrl","PostContext","PostEditScreen","navigate","userInfo","params","id","postId","title","setTitle","slug","setSlug","image","setImage","category","setCategory","content","setContent","submitHandler","e","preventDefault","put","_id","headers","Authorization","token","err","console","log","useEffect","fetchData","dispatch","type","data","get","productId","setName","name","setPrice","price","setCountInStock","countInStock","setBrand","brand","setDescription","description","payload","getError","target","value"],"sources":["C:/Users/binh/Desktop/job/frontend/src/screens/PostEditScreen.js"],"sourcesContent":["import { useNavigate, useParams } from \"react-router-dom\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { useContext, useState } from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { apiUrl } from \"../components/constant\";\r\nimport { PostContext } from \"../App\";\r\nexport default function PostEditScreen() {\r\n  const navigate = useNavigate();\r\n  const { userInfo } = useContext(PostContext);\r\n  const params = useParams();\r\n  const { id: postId } = params;\r\n  const [title, setTitle] = useState();\r\n  const [slug, setSlug] = useState();\r\n\r\n  const [image, setImage] = useState();\r\n\r\n  const [category, setCategory] = useState();\r\n\r\n  const [content, setContent] = useState();\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.put(\r\n        `${apiUrl}/api/posts/${postId}`,\r\n        {\r\n          _id: postId,\r\n          title,\r\n          slug,\r\n          image,\r\n          category,\r\n          content,\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${userInfo.token}` },\r\n        }\r\n      );\r\n\r\n      navigate(\"/admin/listposts\");\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        dispatch({ type: \"FETCH_REQUEST\" });\r\n        const { data } = await axios.get(`${apiUrl}/api/products/${productId}`);\r\n        setName(data.name);\r\n        setSlug(data.slug);\r\n        setPrice(data.price);\r\n        setImage(data.image);\r\n        setCategory(data.category);\r\n        setCountInStock(data.countInStock);\r\n        setBrand(data.brand);\r\n        setDescription(data.description);\r\n        dispatch({ type: \"FETCH_SUCCESS\" });\r\n      } catch (err) {\r\n        dispatch({\r\n          type: \"FETCH_FAIL\",\r\n          payload: getError(err),\r\n        });\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [productId]);\r\n  return (\r\n    <center>\r\n      <div className=\"container_form\">\r\n        <div className=\"container_wrap\">\r\n          <h1>Edit post {postId}</h1>\r\n          <Form onSubmit={submitHandler}>\r\n            <Form.Group className=\"mb-3 email\" controlId=\"title\">\r\n              <Form.Label>Title</Form.Label>\r\n              <Form.Control\r\n                value={title}\r\n                onChange={(e) => setTitle(e.target.value)}\r\n                required\r\n              />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3 email\" controlId=\"slug\">\r\n              <Form.Label>Slug</Form.Label>\r\n              <Form.Control\r\n                value={slug}\r\n                onChange={(e) => setSlug(e.target.value)}\r\n                required\r\n              />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3 email\" controlId=\"image\">\r\n              <Form.Label>Image</Form.Label>\r\n              <Form.Control\r\n                value={image}\r\n                onChange={(e) => setImage(e.target.value)}\r\n                required\r\n              />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3 email\" controlId=\"category\">\r\n              <Form.Label>Category</Form.Label>\r\n              <Form.Control\r\n                value={category}\r\n                onChange={(e) => setCategory(e.target.value)}\r\n                required\r\n              />\r\n            </Form.Group>\r\n\r\n            <Form.Group className=\"mb-3 email\" controlId=\"content\">\r\n              <Form.Label>Content</Form.Label>\r\n              <Form.Control\r\n                value={content}\r\n                onChange={(e) => setContent(e.target.value)}\r\n                required\r\n              />\r\n            </Form.Group>\r\n\r\n            <div className=\"mb-3\">\r\n              <Button type=\"submit\">Update</Button>\r\n            </div>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    </center>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}